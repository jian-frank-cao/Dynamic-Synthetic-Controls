geom_point(aes(x = time[150], y = value[150]),
color = color_main, size = size_point) +
geom_point(aes(x = time[150], y = value[300]),
color = color_main, size = size_point) +
annotate("text", x = df_left$time[26] + 2, y = df_left$value[26] + 0.5, label = "y[3]", fontface = "bold",
size = 6, col = color_main, parse=TRUE) +
annotate("text", x = df_left$time[45], y = df_left$value[195] - 0.5, label = "x[5]", fontface = "bold",
size = 6, col = color_main, parse=TRUE) +
annotate("text", x = df_left$time[57], y = df_left$value[207] - 0.5, label = "x[6]", fontface = "bold",
size = 6, col = color_main, parse=TRUE) +
annotate("text", x = df_left$time[139], y = df_left$value[139] + 0.5, label = "y[13]", fontface = "bold",
size = 6, col = color_main, parse=TRUE) +
annotate("text", x = df_left$time[150], y = df_left$value[150] + 0.5, label = "y[14]", fontface = "bold",
size = 6, col = color_main, parse=TRUE) +
annotate("text", x = df_left$time[150], y = df_left$value[300] - 0.5, label = "x[14]", fontface = "bold",
size = 6, col = color_main, parse=TRUE) +
annotate("text", x = 75, y = -1.5, label = "X", fontface = "bold",
size = 6, col = color_main, parse=TRUE) +
annotate("text", x = 75, y = 6.5, label = "Y", fontface = "bold",
size = 6, col = color_main, parse=TRUE) +
ggtitle("DTW") +
theme_minimal() +
theme(legend.position = "none",
legend.box = "horizontal",
legend.background = element_rect(fill=NA),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
plot.title = element_text(size=17, face="bold", hjust = 0.5),
axis.title=element_blank(),
axis.text=element_blank(),
axis.ticks=element_blank())
df_right = data.frame(ind_y = c(1:10, rep(10:14, each = 2)),
ind_x = c(rep(1:5, each = 2), 5:14))
df_right$colors = c(rep("#2ab7ca", 10), rep("#fe4a49", 10))
df_right$value = c(rep(1, 10), rep(1, 10))
df_right = df_right[-11,]
df_right$colors[10] = "#94818A"
grid = expand.grid(1:14, 1:14)
df_right = left_join(grid, df_right, by = c("Var1"="ind_x","Var2"="ind_y"))
df_right$colors[is.na(df_right$colors)] = "white"
fig_right = df_right %>%
ggplot(aes(x = Var2, y = Var1)) +
geom_tile(aes(fill=colors), color = color_main,
lwd = 1.5,
linetype = 1) +
scale_fill_manual(values = c("#fe4a49", "#94818A", "#2ab7ca", "white")) +
geom_text(aes(label = value), size = 5, color = color_main) +
geom_segment(aes(x = 4.6, y = 3, xend = 0.5, yend = 3), size = 1,
color = color_main, arrow = arrow(length = unit(0.2, "cm"))) +
geom_segment(aes(x = 5, y = 2.6, xend = 5, yend = 0.5), size = 1,
color = color_main, arrow = arrow(length = unit(0.2, "cm"))) +
geom_segment(aes(x = 6, y = 2.6, xend = 6, yend = 0.5), size = 1,
color = color_main, arrow = arrow(length = unit(0.2, "cm"))) +
geom_segment(aes(x = 13.6, y = 14, xend = 0.5, yend = 14), size = 1,
color = color_main, arrow = arrow(length = unit(0.2, "cm"))) +
geom_segment(aes(x = 13.6, y = 13, xend = 0.5, yend = 13), size = 1,
color = color_main, arrow = arrow(length = unit(0.2, "cm"))) +
geom_segment(aes(x = 14, y = 12.6, xend = 14, yend = 0.5), size = 1,
color = color_main, arrow = arrow(length = unit(0.2, "cm"))) +
annotate("text", x = -0.1, y = 3, label = "y[3]", fontface = "bold",
size = 6, col = color_main, parse=TRUE) +
annotate("text", x = 5, y = -0.1, label = "x[5]", fontface = "bold",
size = 6, col = color_main, parse=TRUE) +
annotate("text", x = 6, y = -0.1, label = "x[6]", fontface = "bold",
size = 6, col = color_main, parse=TRUE) +
annotate("text", x = -0.1, y = 14, label = "y[14]", fontface = "bold",
size = 6, col = color_main, parse=TRUE) +
annotate("text", x = -0.1, y = 13, label = "y[13]", fontface = "bold",
size = 6, col = color_main, parse=TRUE) +
annotate("text", x = 14, y = -0.1, label = "x[14]", fontface = "bold",
size = 6, col = color_main, parse=TRUE) +
xlab("X") +
ylab("Y") +
ggtitle("Warping Path") +
theme_minimal() +
theme(legend.position = "none",
legend.box = "horizontal",
legend.background = element_rect(fill=NA),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
plot.title = element_text(size=17, face="bold", hjust = 0.5),
axis.title=element_text(size = 17),
axis.text=element_blank(),
axis.ticks=element_blank())
fig_all = gridExtra::grid.arrange(fig_left, fig_right, ncol = 2)
fig_left = df_left %>%
ggplot(aes(x = time, y = value, group = unit)) +
geom_line(data = df_match %>% filter(group %in% c("red")),
aes(group = dtw), color = color_line_warp_1,
linetype = "dashed", size = size_line_warp - 0.1) +
geom_line(data = df_match %>% filter(group == "red_end"),
aes(group = dtw), color = color_line_warp_0,
linetype = "twodash", size = size_line_warp - 0.1) +
geom_line(data = df_match %>% filter(group == "black"),
aes(group = dtw), color = color_main,
linetype = "dashed", size = size_line_warp - 0.1) +
geom_line(data = df_match %>% filter(group %in% c("blue")),
aes(group = dtw), color = color_line_warp_2,
linetype = "dashed", size = size_line_warp - 0.1) +
geom_line(size = size_line_ts, color = color_main) +
geom_point(aes(x = time[26], y = value[26]),
color = color_main, size = size_point) +
geom_point(aes(x = time[45], y = value[195]),
color = color_main, size = size_point) +
geom_point(aes(x = time[57], y = value[207]),
color = color_main, size = size_point) +
geom_point(aes(x = time[139], y = value[139]),
color = color_main, size = size_point) +
geom_point(aes(x = time[150], y = value[150]),
color = color_main, size = size_point) +
geom_point(aes(x = time[150], y = value[300]),
color = color_main, size = size_point) +
annotate("text", x = df_left$time[26] + 2, y = df_left$value[26] + 0.5, label = "y[3]", fontface = "bold",
size = 6, col = color_main, parse=TRUE) +
annotate("text", x = df_left$time[45], y = df_left$value[195] - 0.5, label = "x[5]", fontface = "bold",
size = 6, col = color_main, parse=TRUE) +
annotate("text", x = df_left$time[57], y = df_left$value[207] - 0.5, label = "x[6]", fontface = "bold",
size = 6, col = color_main, parse=TRUE) +
annotate("text", x = df_left$time[139], y = df_left$value[139] + 0.5, label = "y[13]", fontface = "bold",
size = 6, col = color_main, parse=TRUE) +
annotate("text", x = df_left$time[150], y = df_left$value[150] + 0.5, label = "y[14]", fontface = "bold",
size = 6, col = color_main, parse=TRUE) +
annotate("text", x = df_left$time[150] + 2, y = df_left$value[300] - 0.5, label = "x[14]", fontface = "bold",
size = 6, col = color_main, parse=TRUE) +
annotate("text", x = 75, y = -1.5, label = "X", fontface = "bold",
size = 6, col = color_main, parse=TRUE) +
annotate("text", x = 75, y = 6.5, label = "Y", fontface = "bold",
size = 6, col = color_main, parse=TRUE) +
ggtitle("DTW") +
theme_minimal() +
theme(legend.position = "none",
legend.box = "horizontal",
legend.background = element_rect(fill=NA),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
plot.title = element_text(size=17, face="bold", hjust = 0.5),
axis.title=element_blank(),
axis.text=element_blank(),
axis.ticks=element_blank())
df_right = data.frame(ind_y = c(1:10, rep(10:14, each = 2)),
ind_x = c(rep(1:5, each = 2), 5:14))
df_right$colors = c(rep("#2ab7ca", 10), rep("#fe4a49", 10))
df_right$value = c(rep(1, 10), rep(1, 10))
df_right = df_right[-11,]
df_right$colors[10] = "#94818A"
grid = expand.grid(1:14, 1:14)
df_right = left_join(grid, df_right, by = c("Var1"="ind_x","Var2"="ind_y"))
df_right$colors[is.na(df_right$colors)] = "white"
fig_right = df_right %>%
ggplot(aes(x = Var2, y = Var1)) +
geom_tile(aes(fill=colors), color = color_main,
lwd = 1.5,
linetype = 1) +
scale_fill_manual(values = c("#fe4a49", "#94818A", "#2ab7ca", "white")) +
geom_text(aes(label = value), size = 5, color = color_main) +
geom_segment(aes(x = 4.6, y = 3, xend = 0.5, yend = 3), size = 1,
color = color_main, arrow = arrow(length = unit(0.2, "cm"))) +
geom_segment(aes(x = 5, y = 2.6, xend = 5, yend = 0.5), size = 1,
color = color_main, arrow = arrow(length = unit(0.2, "cm"))) +
geom_segment(aes(x = 6, y = 2.6, xend = 6, yend = 0.5), size = 1,
color = color_main, arrow = arrow(length = unit(0.2, "cm"))) +
geom_segment(aes(x = 13.6, y = 14, xend = 0.5, yend = 14), size = 1,
color = color_main, arrow = arrow(length = unit(0.2, "cm"))) +
geom_segment(aes(x = 13.6, y = 13, xend = 0.5, yend = 13), size = 1,
color = color_main, arrow = arrow(length = unit(0.2, "cm"))) +
geom_segment(aes(x = 14, y = 12.6, xend = 14, yend = 0.5), size = 1,
color = color_main, arrow = arrow(length = unit(0.2, "cm"))) +
annotate("text", x = -0.1, y = 3, label = "y[3]", fontface = "bold",
size = 6, col = color_main, parse=TRUE) +
annotate("text", x = 5, y = -0.1, label = "x[5]", fontface = "bold",
size = 6, col = color_main, parse=TRUE) +
annotate("text", x = 6, y = -0.1, label = "x[6]", fontface = "bold",
size = 6, col = color_main, parse=TRUE) +
annotate("text", x = -0.1, y = 14, label = "y[14]", fontface = "bold",
size = 6, col = color_main, parse=TRUE) +
annotate("text", x = -0.1, y = 13, label = "y[13]", fontface = "bold",
size = 6, col = color_main, parse=TRUE) +
annotate("text", x = 14, y = -0.1, label = "x[14]", fontface = "bold",
size = 6, col = color_main, parse=TRUE) +
xlab("X") +
ylab("Y") +
ggtitle("Warping Path") +
theme_minimal() +
theme(legend.position = "none",
legend.box = "horizontal",
legend.background = element_rect(fill=NA),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
plot.title = element_text(size=17, face="bold", hjust = 0.5),
axis.title=element_text(size = 17),
axis.text=element_blank(),
axis.ticks=element_blank())
fig_all = gridExtra::grid.arrange(fig_left, fig_right, ncol = 2)
ggsave("./figures/warping_path.pdf",
fig_all, width = 8, height = 4,
units = "in", limitsize = FALSE)
fig_left = df_left %>%
ggplot(aes(x = time, y = value, group = unit)) +
geom_line(data = df_match %>% filter(group %in% c("red")),
aes(group = dtw), color = color_line_warp_1,
linetype = "dashed", size = size_line_warp - 0.1) +
geom_line(data = df_match %>% filter(group == "red_end"),
aes(group = dtw), color = color_line_warp_0,
linetype = "twodash", size = size_line_warp - 0.1) +
geom_line(data = df_match %>% filter(group == "black"),
aes(group = dtw), color = color_main,
linetype = "dashed", size = size_line_warp - 0.1) +
geom_line(data = df_match %>% filter(group %in% c("blue")),
aes(group = dtw), color = color_line_warp_2,
linetype = "dashed", size = size_line_warp - 0.1) +
geom_line(size = size_line_ts, color = color_main) +
geom_point(aes(x = time[26], y = value[26]),
color = color_main, size = size_point) +
geom_point(aes(x = time[45], y = value[195]),
color = color_main, size = size_point) +
geom_point(aes(x = time[57], y = value[207]),
color = color_main, size = size_point) +
geom_point(aes(x = time[139], y = value[139]),
color = color_main, size = size_point) +
geom_point(aes(x = time[150], y = value[150]),
color = color_main, size = size_point) +
geom_point(aes(x = time[150], y = value[300]),
color = color_main, size = size_point) +
annotate("text", x = df_left$time[26] + 2, y = df_left$value[26] + 0.5, label = "y[3]", fontface = "bold",
size = 6, col = color_main, parse=TRUE) +
annotate("text", x = df_left$time[45], y = df_left$value[195] - 0.5, label = "x[5]", fontface = "bold",
size = 6, col = color_main, parse=TRUE) +
annotate("text", x = df_left$time[57], y = df_left$value[207] - 0.5, label = "x[6]", fontface = "bold",
size = 6, col = color_main, parse=TRUE) +
annotate("text", x = df_left$time[139], y = df_left$value[139] + 1, label = "y[13]", fontface = "bold",
size = 6, col = color_main, parse=TRUE) +
annotate("text", x = df_left$time[150], y = df_left$value[150] + 1, label = "y[14]", fontface = "bold",
size = 6, col = color_main, parse=TRUE) +
annotate("text", x = df_left$time[150] + 5, y = df_left$value[300] - 0.5, label = "x[14]", fontface = "bold",
size = 6, col = color_main, parse=TRUE) +
annotate("text", x = 75, y = -1.5, label = "X", fontface = "bold",
size = 6, col = color_main, parse=TRUE) +
annotate("text", x = 75, y = 6.5, label = "Y", fontface = "bold",
size = 6, col = color_main, parse=TRUE) +
ggtitle("DTW") +
theme_minimal() +
theme(legend.position = "none",
legend.box = "horizontal",
legend.background = element_rect(fill=NA),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
plot.title = element_text(size=17, face="bold", hjust = 0.5),
axis.title=element_blank(),
axis.text=element_blank(),
axis.ticks=element_blank())
df_right = data.frame(ind_y = c(1:10, rep(10:14, each = 2)),
ind_x = c(rep(1:5, each = 2), 5:14))
df_right$colors = c(rep("#2ab7ca", 10), rep("#fe4a49", 10))
df_right$value = c(rep(1, 10), rep(1, 10))
df_right = df_right[-11,]
df_right$colors[10] = "#94818A"
grid = expand.grid(1:14, 1:14)
df_right = left_join(grid, df_right, by = c("Var1"="ind_x","Var2"="ind_y"))
df_right$colors[is.na(df_right$colors)] = "white"
fig_right = df_right %>%
ggplot(aes(x = Var2, y = Var1)) +
geom_tile(aes(fill=colors), color = color_main,
lwd = 1.5,
linetype = 1) +
scale_fill_manual(values = c("#fe4a49", "#94818A", "#2ab7ca", "white")) +
geom_text(aes(label = value), size = 5, color = color_main) +
geom_segment(aes(x = 4.6, y = 3, xend = 0.5, yend = 3), size = 1, color = "grey30",
color = color_main, arrow = arrow(length = unit(0.2, "cm"))) +
geom_segment(aes(x = 5, y = 2.6, xend = 5, yend = 0.5), size = 1, color = "grey30",
color = color_main, arrow = arrow(length = unit(0.2, "cm"))) +
geom_segment(aes(x = 6, y = 2.6, xend = 6, yend = 0.5), size = 1, color = "grey30",
color = color_main, arrow = arrow(length = unit(0.2, "cm"))) +
geom_segment(aes(x = 13.6, y = 14, xend = 0.5, yend = 14), size = 1,  color = "grey30",
color = color_main, arrow = arrow(length = unit(0.2, "cm"))) +
geom_segment(aes(x = 13.6, y = 13, xend = 0.5, yend = 13), size = 1, color = "grey30",
color = color_main, arrow = arrow(length = unit(0.2, "cm"))) +
geom_segment(aes(x = 14, y = 12.6, xend = 14, yend = 0.5), size = 1, color = "grey30",
color = color_main, arrow = arrow(length = unit(0.2, "cm"))) +
annotate("text", x = -0.1, y = 3, label = "y[3]", fontface = "bold",
size = 6, col = color_main, parse=TRUE) +
annotate("text", x = 5, y = -0.1, label = "x[5]", fontface = "bold",
size = 6, col = color_main, parse=TRUE) +
annotate("text", x = 6, y = -0.1, label = "x[6]", fontface = "bold",
size = 6, col = color_main, parse=TRUE) +
annotate("text", x = -0.2, y = 14, label = "y[14]", fontface = "bold",
size = 6, col = color_main, parse=TRUE) +
annotate("text", x = -0.2, y = 13, label = "y[13]", fontface = "bold",
size = 6, col = color_main, parse=TRUE) +
annotate("text", x = 14, y = -0.1, label = "x[14]", fontface = "bold",
size = 6, col = color_main, parse=TRUE) +
xlab("X") +
ylab("Y") +
ggtitle("Warping Path") +
theme_minimal() +
theme(legend.position = "none",
legend.box = "horizontal",
legend.background = element_rect(fill=NA),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
plot.title = element_text(size=17, face="bold", hjust = 0.5),
axis.title=element_text(size = 17),
axis.text=element_blank(),
axis.ticks=element_blank())
fig_all = gridExtra::grid.arrange(fig_left, fig_right, ncol = 2)
ggsave("./figures/warping_path.pdf",
fig_all, width = 8, height = 4,
units = "in", limitsize = FALSE)
df_right = data.frame(ind_y = c(1:10, rep(10:14, each = 2)),
ind_x = c(rep(1:5, each = 2), 5:14))
df_right$colors = c(rep("#2ab7ca", 10), rep("#fe4a49", 10))
df_right$value = c(rep(1, 10), rep(1, 10))
df_right = df_right[-11,]
df_right$colors[10] = "#94818A"
grid = expand.grid(1:14, 1:14)
df_right = left_join(grid, df_right, by = c("Var1"="ind_x","Var2"="ind_y"))
df_right$colors[is.na(df_right$colors)] = "white"
fig_right = df_right %>%
ggplot(aes(x = Var2, y = Var1)) +
geom_tile(aes(fill=colors), color = color_main,
lwd = 1.5,
linetype = 1) +
scale_fill_manual(values = c("#fe4a49", "#94818A", "#2ab7ca", "white")) +
geom_text(aes(label = value), size = 5, color = color_main) +
geom_segment(aes(x = 4.6, y = 3, xend = 0.5, yend = 3), size = 1, color = "grey40",
color = color_main, arrow = arrow(length = unit(0.2, "cm"))) +
geom_segment(aes(x = 5, y = 2.6, xend = 5, yend = 0.5), size = 1, color = "grey40",
color = color_main, arrow = arrow(length = unit(0.2, "cm"))) +
geom_segment(aes(x = 6, y = 2.6, xend = 6, yend = 0.5), size = 1, color = "grey40",
color = color_main, arrow = arrow(length = unit(0.2, "cm"))) +
geom_segment(aes(x = 13.6, y = 14, xend = 0.5, yend = 14), size = 1,  color = "grey40",
color = color_main, arrow = arrow(length = unit(0.2, "cm"))) +
geom_segment(aes(x = 13.6, y = 13, xend = 0.5, yend = 13), size = 1, color = "grey40",
color = color_main, arrow = arrow(length = unit(0.2, "cm"))) +
geom_segment(aes(x = 14, y = 12.6, xend = 14, yend = 0.5), size = 1, color = "grey40",
color = color_main, arrow = arrow(length = unit(0.2, "cm"))) +
annotate("text", x = -0.1, y = 3, label = "y[3]", fontface = "bold",
size = 6, col = color_main, parse=TRUE) +
annotate("text", x = 5, y = -0.1, label = "x[5]", fontface = "bold",
size = 6, col = color_main, parse=TRUE) +
annotate("text", x = 6, y = -0.1, label = "x[6]", fontface = "bold",
size = 6, col = color_main, parse=TRUE) +
annotate("text", x = -0.4, y = 14, label = "y[14]", fontface = "bold",
size = 6, col = color_main, parse=TRUE) +
annotate("text", x = -0.4, y = 13, label = "y[13]", fontface = "bold",
size = 6, col = color_main, parse=TRUE) +
annotate("text", x = 14, y = -0.1, label = "x[14]", fontface = "bold",
size = 6, col = color_main, parse=TRUE) +
xlab("X") +
ylab("Y") +
ggtitle("Warping Path") +
theme_minimal() +
theme(legend.position = "none",
legend.box = "horizontal",
legend.background = element_rect(fill=NA),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
plot.title = element_text(size=17, face="bold", hjust = 0.5),
axis.title=element_text(size = 17),
axis.text=element_blank(),
axis.ticks=element_blank())
fig_all = gridExtra::grid.arrange(fig_left, fig_right, ncol = 2)
ggsave("./figures/warping_path.pdf",
fig_all, width = 8, height = 4,
units = "in", limitsize = FALSE)
fig_right = df_right %>%
ggplot(aes(x = Var2, y = Var1)) +
geom_tile(aes(fill=colors), color = color_main,
lwd = 1.5,
linetype = 1) +
scale_fill_manual(values = c("#fe4a49", "#94818A", "#2ab7ca", "white")) +
geom_text(aes(label = value), size = 5, color = color_main) +
geom_segment(aes(x = 4.6, y = 3, xend = 0.5, yend = 3), size = 1, color = "grey30",
color = color_main, arrow = arrow(length = unit(0.2, "cm"))) +
geom_segment(aes(x = 5, y = 2.6, xend = 5, yend = 0.5), size = 1, color = "grey30",
color = color_main, arrow = arrow(length = unit(0.2, "cm"))) +
geom_segment(aes(x = 6, y = 2.6, xend = 6, yend = 0.5), size = 1, color = "grey30",
color = color_main, arrow = arrow(length = unit(0.2, "cm"))) +
geom_segment(aes(x = 13.6, y = 14, xend = 0.5, yend = 14), size = 1,  color = "grey30",
color = color_main, arrow = arrow(length = unit(0.2, "cm"))) +
geom_segment(aes(x = 13.6, y = 13, xend = 0.5, yend = 13), size = 1, color = "grey30",
color = color_main, arrow = arrow(length = unit(0.2, "cm"))) +
geom_segment(aes(x = 14, y = 12.6, xend = 14, yend = 0.5), size = 1, color = "grey30",
color = color_main, arrow = arrow(length = unit(0.2, "cm"))) +
annotate("text", x = -0.1, y = 3, label = "y[3]", fontface = "bold",
size = 6, col = color_main, parse=TRUE) +
annotate("text", x = 5, y = -0.1, label = "x[5]", fontface = "bold",
size = 6, col = color_main, parse=TRUE) +
annotate("text", x = 6, y = -0.1, label = "x[6]", fontface = "bold",
size = 6, col = color_main, parse=TRUE) +
annotate("text", x = -0.4, y = 14, label = "y[14]", fontface = "bold",
size = 6, col = color_main, parse=TRUE) +
annotate("text", x = -0.4, y = 13, label = "y[13]", fontface = "bold",
size = 6, col = color_main, parse=TRUE) +
annotate("text", x = 14, y = -0.1, label = "x[14]", fontface = "bold",
size = 6, col = color_main, parse=TRUE) +
xlab("X") +
ylab("Y") +
ggtitle("Warping Path") +
theme_minimal() +
theme(legend.position = "none",
legend.box = "horizontal",
legend.background = element_rect(fill=NA),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
plot.title = element_text(size=17, face="bold", hjust = 0.5),
axis.title=element_text(size = 17),
axis.text=element_blank(),
axis.ticks=element_blank())
fig_all = gridExtra::grid.arrange(fig_left, fig_right, ncol = 2)
ggsave("./figures/warping_path.pdf",
fig_all, width = 8, height = 4,
units = "in", limitsize = FALSE)
fig_right = df_right %>%
ggplot(aes(x = Var2, y = Var1)) +
geom_tile(aes(fill=colors), color = color_main,
lwd = 1.5,
linetype = 1) +
scale_fill_manual(values = c("#fe4a49", "#94818A", "#2ab7ca", "white")) +
geom_text(aes(label = value), size = 5, color = color_main) +
geom_segment(aes(x = 4.6, y = 3, xend = 0.5, yend = 3),
size = 1, color = "grey30", color = color_main,
arrow = arrow(length = unit(0.2, "cm"))) +
geom_segment(aes(x = 5, y = 2.6, xend = 5, yend = 0.5),
size = 1, color = "grey30", color = color_main,
arrow = arrow(length = unit(0.2, "cm"))) +
geom_segment(aes(x = 6, y = 2.6, xend = 6, yend = 0.5),
size = 1, color = "grey30", color = color_main,
arrow = arrow(length = unit(0.2, "cm"))) +
geom_segment(aes(x = 13.6, y = 14, xend = 0.5, yend = 14),
size = 1,  color = "grey30", color = color_main,
arrow = arrow(length = unit(0.2, "cm"))) +
geom_segment(aes(x = 13.6, y = 13, xend = 0.5, yend = 13),
size = 1, color = "grey30", color = color_main,
arrow = arrow(length = unit(0.2, "cm"))) +
geom_segment(aes(x = 14, y = 12.6, xend = 14, yend = 0.5),
size = 1, color = "grey30", color = color_main,
arrow = arrow(length = unit(0.2, "cm"))) +
annotate("text", x = -0.1, y = 3, label = "y[3]", fontface = "bold",
size = 6, col = color_main, parse=TRUE) +
annotate("text", x = 5, y = -0.1, label = "x[5]", fontface = "bold",
size = 6, col = color_main, parse=TRUE) +
annotate("text", x = 6, y = -0.1, label = "x[6]", fontface = "bold",
size = 6, col = color_main, parse=TRUE) +
annotate("text", x = -0.4, y = 14, label = "y[14]", fontface = "bold",
size = 6, col = color_main, parse=TRUE) +
annotate("text", x = -0.4, y = 13, label = "y[13]", fontface = "bold",
size = 6, col = color_main, parse=TRUE) +
annotate("text", x = 14, y = -0.1, label = "x[14]", fontface = "bold",
size = 6, col = color_main, parse=TRUE) +
xlab("X") +
ylab("Y") +
ggtitle("Warping Path") +
theme_minimal() +
theme(legend.position = "none",
legend.box = "horizontal",
legend.background = element_rect(fill=NA),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
plot.title = element_text(size=17, face="bold", hjust = 0.5),
axis.title=element_text(size = 17),
axis.text=element_blank(),
axis.ticks=element_blank())
fig_all = gridExtra::grid.arrange(fig_left, fig_right, ncol = 2)
ggsave("./figures/warping_path.pdf",
fig_all, width = 8, height = 4,
units = "in", limitsize = FALSE)
data_apple = read.csv("/Users/jiancao/Downloads/dataverse_files/all_files_in_csv_format/CNR_QJE_apple.csv")
View(data_apple)
table(data_apple$country)
table(data_apple$date)
table(data_apple$category)
description(data_apple)
describe(data_apple)
summary(data_apple)
table(data_apple$intro)
table(data_apple$categoryid)
a = data.frame(table(data_apple$id))
View(a)
which(a$Var1 == "MC259")
a[6348,]
which(a$Var1 == "MD293")
a[6674,]
## Setup -----------------------------------------------------------------------
library(checkpoint)
checkpoint("2022-04-01")
library(tidyverse)
data_apple2 = haven::read_dta("/Users/jiancao/Downloads/dataverse_files/CNR_QJE_apple.dta")
View(data_apple2)
data = haven::read_dta("/Users/jiancao/Downloads/dataverse_files/CNR_QJE_apple.dta")
folder = "/Users/jiancao/Downloads/dataverse_files/"
iphone4 = read.csv(paste0(folder, "iPhone4.csv"))
View(iphone4)
View(data)
class(data$date[1])
data$date[1]
i = 1
target = iphone4[i,]
target$Model
strsplit(target$Model, split = ", ")
res = data %>% filter(id %in% models)
models = strsplit(target$Model, split = ", ")
res = data %>% filter(id %in% models)
View(res)
which(data$id == "MD126")
a = data.frame(table(data$id))
View(a)
View(data_apple)
data = data_apple
View(data)
sapply(data, class)
View(data_apple2)
data$date[1]
